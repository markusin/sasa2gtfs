<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <link  href="style1.css" type="text/css" rel="stylesheet" >
        <meta name="generator" content="HTML Tidy, see www.w3.org">
        <script type="text/javascript">
            function validate() {
                var id_value = document.getElementById('myfile').value
                if(document.getElementById('myfile') == 0){alert("null");}
                if(id_value != '') {
                    var valid_extensions = /(.zip|.tar|.gz)$/i;
                    if(valid_extensions.test(id_value))
                    {
                        progress_update();
                        return true;
                    }
                    else
                    {
                        alert("Wrong input file format! The file must be in Zip compression!")
                        return false;
                    }
                }
                else{
									alert("Please select an input file to be uploaded!"); 
									return false;
								}
            }
        </script>
        <script language="javascript">
            var progressEnd = 9; // set to number of progress <span>'s.
            var progressColor = 'red'; // set to progress bar color
            var progressInterval = 1000; // set to time between updates (milli-seconds)

            var progressAt = progressEnd;
            var progressTimer;
            function progress_clear() {
                for (var i = 1; i <= progressEnd; i++) document.getElementById('progress'+i).style.backgroundColor = 'transparent';
                progressAt = 0;
            }
            function progress_update() {
                document.getElementById('showbar').style.visibility = 'visible';
                progressAt++;
                if (progressAt > progressEnd) progress_clear();
                else document.getElementById('progress'+progressAt).style.backgroundColor = progressColor;
                progressTimer = setTimeout('progress_update()',progressInterval);
            }
            function progress_stop() {
                clearTimeout(progressTimer);
                progress_clear();
                document.getElementById('showbar').style.visibility = 'hidden';
            }
            //progress_update(); // start progress bar

        </script>


        <!-- end javascript block -->
        <title>Sasa2GTFS</title>

    </head>
    <body>
        <div id="header">
            <h1>Sasa2GTFS</h1>
        </div>

        <div>
		Welcome on the Sasa2GTFS project page. This page provides the service of changing the Sasa input files to the Google Transit Feed Specification. You can upload a ZIP file
		containing the following files:
            <ul>
                <li>lineeCorse.csv (representing trips)</li>
                <li>linee.csv (representing routes)</li>
                <li>orariPassaggio.csv (representing schedule)</li>
                <li>sasa_ge_busdata.kml (representing stops)
            </ul>
		And you will obtain the following output after the upload, a compressed zip
		file (sasaGTFS.zip) containing the following files:
            <ul>
                <li>stops.txt (bus stops)</li>
                <li>routes.txt (bus routes)</li>
                <li>trips.txt (bus trips)</li>
                <li>stops_times.txt (schedule)</li>
                <li>calendar.txt (calendar)</li>
                <li>calendar_dates.txt (calendar_exception)</li>
            </ul>
		After the upload you will get a link to the feed location where you
		can download the feed.
        </div>
        <table align="center"><tr><td>
                    <div id="showbar" style="font-size:8pt;padding:2px;border:solid black 1px;visibility:hidden">
                        <span id="progress1">&nbsp; &nbsp;</span>
                        <span id="progress2">&nbsp; &nbsp;</span>
                        <span id="progress3">&nbsp; &nbsp;</span>
                        <span id="progress4">&nbsp; &nbsp;</span>
                        <span id="progress5">&nbsp; &nbsp;</span>
                        <span id="progress6">&nbsp; &nbsp;</span>
                        <span id="progress7">&nbsp; &nbsp;</span>
                        <span id="progress8">&nbsp; &nbsp;</span>
                        <span id="progress9">&nbsp; &nbsp;</span>
                    </div>
                </td></tr></table>
        </div>
        <div>
            <form id="upload_form" action="http://@hostname@/@projectName@/ioServlet" method="post" enctype="multipart/form-data" onSubmit="return validate();">


                <p>
				Select the compressed file you want to upload.<br>
                    <input type="file" id="myfile" name="myfile" accept="text/*" maxlength="2097152"><!-- hier beliebige andere Felder --><input type="submit"
                                                                                                                                                 value="Upload"><input type="reset">
            </form>
            
    </body>
</html>
