--ALTER TABLE @EDGE_TABLE@ ADD (SRC_OUT NUMBER(5,0), SRC_POUT NUMBER(5,0), SOURCE_MODE VARCHAR2(5), TARGET_MODE VARCHAR2(5));

-- INT DIRECTION SETTINGS
ALTER TABLE @EDGE_TABLE@ ADD (SOURCE_MODE NUMBER(2,0), TARGET_MODE NUMBER(2,0));

--UPDATE (
-- SELECT 
-- 	E.SOURCE_OUTDEGREE E_OUTDEGREE, N.SOURCE_OUTDEGREE N_OUTDEGREE,
-- 	E.SOURCE_C_OUTDEGREE E_C_OUTDEGREE, N.SOURCE_C_OUTDEGREE N_C_OUTDEGREE,
-- 	E.SOURCE_MODE E_MODE,N."MODE" N_MODE 
-- FROM @EDGE_TABLE@ E, @NODE_TABLE@ N WHERE N.ID=E.SOURCE
--) SET E_OUTDEGREE=N_OUTDEGREE, E_C_OUTDEGREE=N_C_OUTDEGREE, E_MODE=N_MODE

UPDATE @EDGE_TABLE@ E SET E.SOURCE_OUTDEGREE=(
  SELECT N.OUTDEGREE FROM @NODE_TABLE@ N WHERE N.ID=E.SOURCE
);

UPDATE @EDGE_TABLE@ E SET E.SOURCE_C_OUTDEGREE=(
  SELECT N.C_OUTDEGREE FROM @NODE_TABLE@ N WHERE N.ID=E.SOURCE
);

UPDATE @EDGE_TABLE@  E SET E.SOURCE_MODE=(
  SELECT N."mode" FROM @NODE_TABLE@ N WHERE N.ID=E.SOURCE
);

UPDATE @EDGE_TABLE@ E SET E.TARGET_MODE=(
  SELECT N."mode" FROM @NODE_TABLE@ N WHERE N.ID=E.TARGET
);

-- OUT DIRECTION SETTINGS

UPDATE @EDGE_TABLE@ E SET E.TARGET_INDEGREE=(
  SELECT N.INDEGREE FROM @NODE_TABLE@ N WHERE N.ID=E.TARGET
);

UPDATE @EDGE_TABLE@ E SET E.TARGET_C_INDEGREE=(
  SELECT N.C_INDEGREE FROM @NODE_TABLE@ N WHERE N.ID=E.TARGET
);

COMMIT;
QUIT